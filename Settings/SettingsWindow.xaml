<ui:FluentWindow
    x:Class="Automatization.SettingsWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="clr-namespace:Automatization.Controls"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    Title="Settings"
    Width="550"
    Height="780"
    ExtendsContentIntoTitleBar="True"
    FontFamily="Segoe UI"
    WindowBackdropType="Mica"
    WindowStartupLocation="CenterOwner">
    <Window.Resources>
        <Style BasedOn="{StaticResource {x:Type TextBox}}" TargetType="{x:Type controls:HotKeyBox}">
            <Setter Property="Height" Value="35" />
            <Setter Property="VerticalContentAlignment" Value="Center" />
            <Setter Property="Padding" Value="10,0" />
            <Setter Property="Cursor" Value="Arrow" />
            <Setter Property="ToolTip" Value="Click to edit. Press Backspace or Delete to unbind." />

            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="BorderBrush" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}" />
                </Trigger>

                <Trigger Property="IsFocused" Value="True">
                    <Setter Property="FontWeight" Value="Bold" />
                    <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style BasedOn="{StaticResource {x:Type ui:TextBox}}" TargetType="{x:Type ui:TextBox}">
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="BorderBrush" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}" />
                </Trigger>

                <Trigger Property="IsFocused" Value="True">
                    <Setter Property="BorderBrush" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}" />

                    <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}" />
                    <Setter Property="FontWeight" Value="Bold" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <ui:TitleBar Title="Settings" Grid.Row="0" />

        <ScrollViewer
            Grid.Row="1"
            Padding="25"
            VerticalScrollBarVisibility="Auto">
            <StackPanel>

                <ui:TextBlock
                    Margin="0,0,0,10"
                    FontTypography="Subtitle"
                    Text="General" />

                <ui:TextBlock
                    Margin="0,0,0,5"
                    FontTypography="BodyStrong"
                    Text="Game Process Name"
                    ToolTip="The executable name without .exe" />
                <Grid Margin="0,0,0,15">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <ui:TextBox
                        x:Name="GameProcessNameTextBox"
                        Grid.Column="0"
                        Margin="0,0,10,0"
                        IsReadOnly="True"
                        PlaceholderText="ProTanki" />
                    <ui:Button
                        x:Name="UnlockGameProcessNameButton"
                        Grid.Column="1"
                        Click="UnlockGameProcessNameButton_Click"
                        Icon="{ui:SymbolIcon LockOpen24}"
                        ToolTip="Unlock to edit" />
                </Grid>

                <ui:TextBlock
                    Margin="0,0,0,5"
                    FontTypography="BodyStrong"
                    Text="Game Executable Path" />
                <Grid Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <ui:TextBox
                        x:Name="GamePathTextBox"
                        Grid.Column="0"
                        Margin="0,0,10,0"
                        IsReadOnly="True"
                        PlaceholderText="Select the .exe file from the game's directory..." />
                    <ui:Button
                        Grid.Column="1"
                        Click="BrowseGamePathButton_Click"
                        Content="Browse"
                        Icon="{ui:SymbolIcon FolderOpen24}" />
                </Grid>

                <Separator Margin="0,0,0,20" Opacity="1" />

                <ui:TextBlock
                    Margin="0,0,0,10"
                    FontTypography="Subtitle"
                    Text="Automation" />

                <Grid Margin="0,0,0,15">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="120" />
                    </Grid.ColumnDefinitions>
                    <StackPanel Grid.Column="0" VerticalAlignment="Center">
                        <ui:TextBlock FontTypography="BodyStrong" Text="Team Auto-Clicker Speed" />
                        <ui:TextBlock
                            FontTypography="Caption"
                            Foreground="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"
                            Text="Delay between clicks in milliseconds" />
                    </StackPanel>
                    <ui:TextBox
                        x:Name="ClickSpeedTextBox"
                        Grid.Column="1"
                        HorizontalContentAlignment="Right"
                        PlaceholderText="ms" />
                </Grid>

                <Grid Margin="0,0,0,15">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="120" />
                    </Grid.ColumnDefinitions>
                    <StackPanel Grid.Column="0" VerticalAlignment="Center">
                        <ui:TextBlock FontTypography="BodyStrong" Text="Smart Repair Kit FPS" />
                        <ui:TextBlock
                            FontTypography="Caption"
                            Foreground="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"
                            Text="Screen capture frame rate (Higher = smoother but more CPU)" />
                    </StackPanel>
                    <ComboBox x:Name="SmartRepairFpsComboBox" Grid.Column="1">
                        <ComboBoxItem Content="30 FPS" Tag="30" />
                        <ComboBoxItem Content="60 FPS" Tag="60" />
                    </ComboBox>
                </Grid>

                <ui:TextBlock
                    Margin="0,0,0,5"
                    FontTypography="BodyStrong"
                    Text="Team Clicker Coordinates" />

                <Grid Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="80" />
                        <ColumnDefinition Width="191*" />
                        <ColumnDefinition Width="191*" />
                        <ColumnDefinition Width="38*" />
                    </Grid.ColumnDefinitions>
                    <TextBlock
                        Grid.Column="0"
                        VerticalAlignment="Center"
                        Text="Red Team:" />
                    <ui:TextBox
                        x:Name="RedTeamXTextBox"
                        Grid.Column="1"
                        Margin="0,0,5,0"
                        IsReadOnly="True"
                        PlaceholderText="X" />
                    <ui:TextBox
                        x:Name="RedTeamYTextBox"
                        Grid.Column="2"
                        Margin="5,0,10,0"
                        IsReadOnly="True"
                        PlaceholderText="Y" />
                    <ui:Button
                        x:Name="PickRedTeamButton"
                        Grid.Column="3"
                        Click="PickRedTeamButton_Click"
                        Icon="{ui:SymbolIcon Target20}"
                        ToolTip="Pick Coordinate" />
                </Grid>

                <Grid Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="80" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock
                        Grid.Column="0"
                        VerticalAlignment="Center"
                        Text="Blue Team:" />
                    <ui:TextBox
                        x:Name="BlueTeamXTextBox"
                        Grid.Column="1"
                        Margin="0,0,5,0"
                        IsReadOnly="True"
                        PlaceholderText="X" />
                    <ui:TextBox
                        x:Name="BlueTeamYTextBox"
                        Grid.Column="2"
                        Margin="5,0,10,0"
                        IsReadOnly="True"
                        PlaceholderText="Y" />
                    <ui:Button
                        x:Name="PickBlueTeamButton"
                        Grid.Column="3"
                        Click="PickBlueTeamButton_Click"
                        Icon="{ui:SymbolIcon Target20}"
                        ToolTip="Pick Coordinate" />
                </Grid>

                <Separator Margin="0,0,0,20" Opacity="1" />

                <ui:TextBlock
                    Margin="0,0,0,15"
                    FontTypography="Subtitle"
                    Text="Hotkeys" />

                <Grid Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="20" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0">
                        <ui:TextBlock
                            Margin="0,0,0,10"
                            FontTypography="BodyStrong"
                            Text="Controls" />

                        <TextBlock Margin="0,0,0,5" Text="Global Toggle" />
                        <controls:HotKeyBox x:Name="GlobalHotKeyBox" Margin="0,0,0,15" />

                        <TextBlock Margin="0,0,0,5" Text="Red Team Auto" />
                        <controls:HotKeyBox x:Name="RedTeamHotKeyBox" Margin="0,0,0,15" />

                        <TextBlock Margin="0,0,0,5" Text="Blue Team Auto" />
                        <controls:HotKeyBox x:Name="BlueTeamHotKeyBox" Margin="0,0,0,15" />

                        <TextBlock Margin="0,0,0,5" Text="Gold Box Timer" />
                        <controls:HotKeyBox x:Name="GoldBoxTimerHotKeyBox" Margin="0,0,0,15" />

                        <TextBlock Margin="0,0,0,5" Text="Smart Repair Monitor (Toggle)" />
                        <controls:HotKeyBox x:Name="SmartRepairToggleHotKeyBox" Margin="0,0,0,15" />

                        <TextBlock Margin="0,0,0,5" Text="Smart Repair Debug (Screenshot)" />
                        <controls:HotKeyBox x:Name="SmartRepairDebugHotKeyBox" Margin="0,0,0,15" />
                    </StackPanel>

                    <StackPanel Grid.Column="2">
                        <ui:TextBlock
                            Margin="0,0,0,10"
                            FontTypography="BodyStrong"
                            Text="Powerups" />

                        <TextBlock Margin="0,0,0,5" Text="Repair Kit" />
                        <controls:HotKeyBox x:Name="RepairKitKeyBox" Margin="0,0,0,15" />

                        <TextBlock Margin="0,0,0,5" Text="Double Armor" />
                        <controls:HotKeyBox x:Name="DoubleArmorKeyBox" Margin="0,0,0,15" />

                        <TextBlock Margin="0,0,0,5" Text="Double Damage" />
                        <controls:HotKeyBox x:Name="DoubleDamageKeyBox" Margin="0,0,0,15" />

                        <TextBlock Margin="0,0,0,5" Text="Speed Boost" />
                        <controls:HotKeyBox x:Name="SpeedBoostKeyBox" Margin="0,0,0,15" />

                        <TextBlock Margin="0,0,0,5" Text="Mine" />
                        <controls:HotKeyBox x:Name="MineKeyBox" Margin="0,0,0,15" />
                    </StackPanel>
                </Grid>

                <Separator Margin="0,0,0,20" Opacity="1" />

                <ui:TextBlock
                    Margin="0,0,0,10"
                    FontTypography="Subtitle"
                    Text="Appearance" />

                <Grid Margin="0,0,0,15">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0" VerticalAlignment="Center">
                        <ui:TextBlock FontTypography="BodyStrong" Text="Application Theme" />
                        <ui:TextBlock
                            FontTypography="Caption"
                            Foreground="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"
                            Text="Select your preferred visual style" />
                    </StackPanel>

                    <StackPanel Grid.Column="1" Orientation="Horizontal">
                        <ComboBox
                            x:Name="ThemeComboBox"
                            Width="160"
                            Margin="0,0,10,0"
                            SelectionChanged="ThemeComboBox_SelectionChanged" />

                        <ui:Button
                            x:Name="CreateThemeButton"
                            Width="35"
                            Margin="0,0,5,0"
                            Click="CreateThemeButton_Click"
                            Content="+"
                            ToolTip="Create New Custom Theme" />

                        <ui:Button
                            x:Name="DeleteThemeButton"
                            Appearance="Secondary"
                            Click="DeleteThemeButton_Click"
                            Icon="{ui:SymbolIcon Delete24}"
                            ToolTip="Delete Selected Theme"
                            Visibility="Collapsed" />
                    </StackPanel>
                </Grid>

                <CheckBox
                    x:Name="TransparentTimerWindowCheckBox"
                    Margin="-10,0,0,20"
                    Content="Use Transparent Background for Gold Box Timer" />

                <Separator Margin="0,0,0,20" Opacity="1" />

                <ui:TextBlock
                    Margin="0,0,0,10"
                    FontTypography="Subtitle"
                    Text="About &amp; Updates" />

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Column="0">
                        <TextBlock
                            x:Name="VersionTextBlock"
                            Margin="0,0,0,5"
                            Foreground="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                        <TextBlock
                            x:Name="LatestVersionTextBlock"
                            Margin="0,0,0,5"
                            Foreground="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}" />
                        <TextBlock
                            x:Name="StatusTextBlock"
                            Margin="0,0,0,5"
                            Foreground="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"
                            TextWrapping="Wrap" />

                        <ProgressBar
                            x:Name="DownloadProgressBar"
                            Height="4"
                            Margin="0,10,20,0"
                            Visibility="Collapsed" />
                    </StackPanel>

                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                        <ui:Button
                            x:Name="CheckForUpdatesButton"
                            Width="150"
                            Margin="0,0,0,10"
                            Click="CheckForUpdatesButton_Click"
                            Content="Check Updates"
                            Icon="{ui:SymbolIcon ArrowSync24}" />

                        <ui:Button
                            x:Name="UpdateNowButton"
                            Width="150"
                            Appearance="Primary"
                            Click="UpdateNowButton_Click"
                            Content="Update &amp; Restart"
                            Icon="{ui:SymbolIcon ArrowDownload24}"
                            Visibility="Collapsed" />
                    </StackPanel>
                </Grid>

            </StackPanel>
        </ScrollViewer>

        <Border
            Grid.Row="2"
            Padding="15"
            BorderThickness="0,1,0,0">
            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                <ui:Button
                    x:Name="SaveButton"
                    Width="130"
                    Margin="0,0,10,0"
                    Appearance="Primary"
                    Click="SaveButton_Click"
                    Content="Save Settings"
                    Icon="{ui:SymbolIcon Save24}" />

                <ui:Button
                    x:Name="LogsButton"
                    Width="80"
                    Margin="0,0,10,0"
                    Click="LogsButton_Click"
                    Content="Logs"
                    Icon="{ui:SymbolIcon DocumentText24}" />

                <ui:Button
                    x:Name="CloseButton"
                    Width="80"
                    Click="CloseButton_Click"
                    Content="Cancel"
                    IsCancel="True" />
            </StackPanel>
        </Border>
    </Grid>
</ui:FluentWindow>
