<ui:FluentWindow
    x:Class="Automatization.UI.ThemeCreatorWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
    Title="Theme Creator"
    Width="450"
    Height="650"
    ExtendsContentIntoTitleBar="True"
    WindowBackdropType="Mica"
    WindowStartupLocation="CenterOwner">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <ui:TitleBar Title="Create Custom Theme" Grid.Row="0" />

        <ScrollViewer
            Grid.Row="1"
            Margin="0,10"
            VerticalScrollBarVisibility="Auto">
            <StackPanel>

                <ui:TextBox
                    x:Name="ThemeNameBox"
                    Margin="0,0,0,15"
                    PlaceholderText="Theme Name (e.g. Ocean Blue)" />

                <ui:CardExpander
                    Margin="0,0,0,10"
                    Header="Window Background"
                    Icon="{ui:SymbolIcon AppGeneric24}"
                    IsExpanded="True">
                    <StackPanel>
                        <!--  Mode Selection  -->
                        <StackPanel Margin="0,0,0,15" Orientation="Horizontal">
                            <RadioButton
                                x:Name="RadioSolid"
                                Margin="0,0,10,0"
                                Checked="BgMode_Checked"
                                Content="Solid"
                                GroupName="BgMode"
                                IsChecked="True" />
                            <RadioButton
                                x:Name="RadioGradient"
                                Margin="0,0,10,0"
                                Checked="BgMode_Checked"
                                Content="Gradient"
                                GroupName="BgMode" />
                            <RadioButton
                                x:Name="RadioImage"
                                Checked="BgMode_Checked"
                                Content="Image"
                                GroupName="BgMode" />
                        </StackPanel>

                        <!--  Solid / Gradient Start Color  -->
                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <StackPanel>
                                <TextBlock
                                    x:Name="PrimaryColorLabel"
                                    FontWeight="SemiBold"
                                    Text="Primary Color" />
                                <TextBlock
                                    FontSize="11"
                                    Opacity="0.7"
                                    Text="Background or Gradient Start" />
                            </StackPanel>
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <Border
                                    x:Name="WindowBgPreview"
                                    Width="20"
                                    Height="20"
                                    Margin="0,0,5,0"
                                    BorderBrush="#333333"
                                    BorderThickness="1"
                                    CornerRadius="10">
                                    <Border.Background>
                                        <SolidColorBrush Color="{Binding Text, ElementName=WindowBgHex}" />
                                    </Border.Background>
                                </Border>
                                <ui:TextBox
                                    x:Name="WindowBgHex"
                                    Width="90"
                                    Margin="0,0,5,0"
                                    Text="#FFFFFFFF" />
                                <Button
                                    Click="PickColor_Click"
                                    Content="..."
                                    Tag="{Binding ElementName=WindowBgHex}" />
                            </StackPanel>
                        </Grid>

                        <!--  Gradient End Color (Hidden by default)  -->
                        <Grid
                            x:Name="GradientEndContainer"
                            Margin="0,0,0,10"
                            Visibility="Collapsed">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <StackPanel>
                                <TextBlock FontWeight="SemiBold" Text="Gradient End" />
                                <TextBlock
                                    FontSize="11"
                                    Opacity="0.7"
                                    Text="The fade-out color" />
                            </StackPanel>
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <Border
                                    Width="20"
                                    Height="20"
                                    Margin="0,0,5,0"
                                    BorderBrush="#333333"
                                    BorderThickness="1"
                                    CornerRadius="10">
                                    <Border.Background>
                                        <SolidColorBrush Color="{Binding Text, ElementName=GradientEndHex}" />
                                    </Border.Background>
                                </Border>
                                <ui:TextBox
                                    x:Name="GradientEndHex"
                                    Width="90"
                                    Margin="0,0,5,0"
                                    Text="#FFDDDDDD" />
                                <Button
                                    Click="PickColor_Click"
                                    Content="..."
                                    Tag="{Binding ElementName=GradientEndHex}" />
                            </StackPanel>
                        </Grid>

                        <!--  Image Selector (Hidden by default)  -->
                        <Grid
                            x:Name="ImageContainer"
                            Margin="0,0,0,10"
                            Visibility="Collapsed">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>
                            <TextBlock
                                Margin="0,0,0,5"
                                FontWeight="SemiBold"
                                Text="Image Path" />
                            <Grid Grid.Row="1">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <ui:TextBox
                                    x:Name="ImagePathBox"
                                    Margin="0,0,5,0"
                                    PlaceholderText="C:\Wallpapers\Image.jpg" />
                                <ui:Button
                                    Grid.Column="1"
                                    Click="BrowseImage_Click"
                                    Icon="{ui:SymbolIcon FolderOpen24}" />
                            </Grid>
                        </Grid>
                    </StackPanel>
                </ui:CardExpander>

                <ui:CardExpander
                    Header="UI Colors"
                    Icon="{ui:SymbolIcon Color24}"
                    IsExpanded="True">
                    <StackPanel>
                        <!--  Text Color  -->
                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                VerticalAlignment="Center"
                                FontWeight="SemiBold"
                                Text="Text Color" />
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <Border
                                    Width="20"
                                    Height="20"
                                    Margin="0,0,5,0"
                                    BorderBrush="#333333"
                                    BorderThickness="1"
                                    CornerRadius="10">
                                    <Border.Background>
                                        <SolidColorBrush Color="{Binding Text, ElementName=TextColorHex}" />
                                    </Border.Background>
                                </Border>
                                <ui:TextBox
                                    x:Name="TextColorHex"
                                    Width="90"
                                    Margin="0,0,5,0"
                                    Text="#FF000000" />
                                <Button
                                    Click="PickColor_Click"
                                    Content="..."
                                    Tag="{Binding ElementName=TextColorHex}" />
                            </StackPanel>
                        </Grid>

                        <!--  Accent Color  -->
                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                VerticalAlignment="Center"
                                FontWeight="SemiBold"
                                Text="Accent Color" />
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <Border
                                    Width="20"
                                    Height="20"
                                    Margin="0,0,5,0"
                                    BorderBrush="#333333"
                                    BorderThickness="1"
                                    CornerRadius="10">
                                    <Border.Background>
                                        <SolidColorBrush Color="{Binding Text, ElementName=AccentHex}" />
                                    </Border.Background>
                                </Border>
                                <ui:TextBox
                                    x:Name="AccentHex"
                                    Width="90"
                                    Margin="0,0,5,0"
                                    Text="#FF0078D7" />
                                <Button
                                    Click="PickColor_Click"
                                    Content="..."
                                    Tag="{Binding ElementName=AccentHex}" />
                            </StackPanel>
                        </Grid>

                        <!--  Button Bg  -->
                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                VerticalAlignment="Center"
                                FontWeight="SemiBold"
                                Text="Button Fill" />
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <Border
                                    Width="20"
                                    Height="20"
                                    Margin="0,0,5,0"
                                    BorderBrush="#333333"
                                    BorderThickness="1"
                                    CornerRadius="10">
                                    <Border.Background>
                                        <SolidColorBrush Color="{Binding Text, ElementName=BtnBgHex}" />
                                    </Border.Background>
                                </Border>
                                <ui:TextBox
                                    x:Name="BtnBgHex"
                                    Width="90"
                                    Margin="0,0,5,0"
                                    Text="#1A000000" />
                                <Button
                                    Click="PickColor_Click"
                                    Content="..."
                                    Tag="{Binding ElementName=BtnBgHex}" />
                            </StackPanel>
                        </Grid>

                        <!--  Button Hover  -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <TextBlock
                                VerticalAlignment="Center"
                                FontWeight="SemiBold"
                                Text="Button Hover" />
                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <Border
                                    Width="20"
                                    Height="20"
                                    Margin="0,0,5,0"
                                    BorderBrush="#333333"
                                    BorderThickness="1"
                                    CornerRadius="10">
                                    <Border.Background>
                                        <SolidColorBrush Color="{Binding Text, ElementName=BtnHoverHex}" />
                                    </Border.Background>
                                </Border>
                                <ui:TextBox
                                    x:Name="BtnHoverHex"
                                    Width="90"
                                    Margin="0,0,5,0"
                                    Text="#29000000" />
                                <Button
                                    Click="PickColor_Click"
                                    Content="..."
                                    Tag="{Binding ElementName=BtnHoverHex}" />
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </ui:CardExpander>

            </StackPanel>
        </ScrollViewer>

        <!--  Footer  -->
        <StackPanel
            Grid.Row="2"
            HorizontalAlignment="Right"
            Orientation="Horizontal">
            <ui:Button
                Margin="0,0,10,0"
                Click="Preview_Click"
                Content="Preview Here"
                Icon="{ui:SymbolIcon Eye24}" />
            <ui:Button
                Appearance="Primary"
                Click="Save_Click"
                Content="Save Theme"
                Icon="{ui:SymbolIcon Save24}" />
        </StackPanel>
    </Grid>
</ui:FluentWindow>